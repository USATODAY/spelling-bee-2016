define("lib/mobile-detect",["jquery"],function(e){return function(r){(e.browser=e.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),e}),define("app",["jquery","api/analytics","lib/mobile-detect"],function(e,r,o){var t=t||{};return t.init=function(){t.arrHTMLTag=e("html"),t.arrPageContainer=e(".page-container"),t.arrPanelWindow=e(".panel-window"),t.arrVideos=e("video"),t.arrAudios=e("audio"),t.arrPanels=e(".panel"),t.arrAudioPlayButtons=e(".audio-button"),t.arrCheckButton=e(".check-button"),t.arrSpellingContainer=e(".spelling-container"),t.arrCorrect=e(".correct"),t.arrNextButton=e(".next-button"),t.arrSpellingForm=e(".word-input"),t.arrSpellingButton=e(".spelling-button"),t.arrSpellingSubmit=e(".spelling-form"),t.arrIntroButton=e(".intro-button"),t.arrIntro=e(".intro-container"),t.arrNumber=e(".number-string");var r=window!=window.parent;e.browser.mobile&&!t.arrHTMLTag.hasClass("touch")&&t.arrHTMLTag.addClass("touch"),r&&(e("#header").css({display:"none"}),e(".section").css({top:"10%"})),window.addEventListener("orientationchange",function(){t.reformatPage()},!1),onresize=onload=function(){t.reformatPage()},t.shuffleAnswers(t.arrWords),t.addEventListeners()},t.currentWord=0,t.currentVideo=0,t.currentAudio=0,t.totalWords=7,t.numCorrect=0,t.numWindowWidth=window.innerWidth,t.arrWords=["planet","haven","banjo","nostalgia","tussle","molecule","vineyard","whey","knead","binoculars","hydroponic","appoggiatura","autochthonous","demarche","guerdon","knaidel","laodicean","pococurante","prospicience","stromuhr","succedaneum","ursprache"],t.reformatPage=function(){if(t.numWindowWidth=window.innerWidth,window.innerWidth/window.innerHeight<1920/1080){var e=1920/1080/(window.innerWidth/window.innerHeight)*100;t.arrVideos.css({width:e.toString()+"%",left:((100-e)/2).toString()+"%"})}else t.arrVideos.css({width:"100%",left:"0%"})},t.addEventListeners=function(){t.arrAudioPlayButtons.click(function(o){var a=(e(this),t.arrAudioPlayButtons.index(this));t.audioPlayClip(a),r.trackEvent("audioPlayed"+a.toString())}),t.arrIntroButton.click(function(e){t.arrIntro.addClass("hide"),t.arrSpellingContainer.removeClass("hide"),t.setUpQuestion(0)}),t.arrCheckButton.on("click",function(e){t.checkAnswer(),r.trackEvent("checkAnswer"+t.currentWord.toString())}),t.arrNextButton.on("click",function(){t.currentWord>=t.totalWords-1?document.location.reload():t.setUpQuestion(t.currentWord+1),r.trackEvent("NextButton"+t.currentWord.toString())}),t.arrVideos[2].addEventListener("ended",function(){t.setVideos(1),t.arrNextButton.addClass("show"),r.trackEvent("videoCorrectComplete"+t.currentWord.toString())}),t.arrVideos[3].addEventListener("ended",function(){t.setVideos(1),t.arrNextButton.addClass("show"),r.trackEvent("videoWrongComplete"+t.currentWord.toString())}),t.arrAudios[4].addEventListener("ended",function(){t.resetAudioAnswer(),r.trackEvent("audioCorrectComplete"+t.currentWord.toString())}),t.arrAudios[5].addEventListener("ended",function(){t.resetAudioAnswer(),r.trackEvent("audioWrongComplete"+t.currentWord.toString())}),t.arrSpellingSubmit.submit(function(e){e.preventDefault(),t.arrCheckButton.trigger("click")}),t.arrSpellingButton.click(function(e){t.arrCorrect.find("h2").html(t.arrWords[t.currentWord])}),t.arrCorrect.find(".fbshare").click(function(e){e.preventDefault(),t.windowPopup(e.currentTarget.href,500,300)}),t.arrCorrect.find(".tshare").click(function(e){e.preventDefault(),t.windowPopup(e.currentTarget.href,500,300)}),t.setVideos(0)},t.setUpQuestion=function(r){var o=[],a="";switch(t.setVideos(1),r>=t.totalWords?(r=0,t.currentWord=0):t.currentWord=r,e.each(t.arrAudios,function(a){switch(o=t.arrAudios.eq(a).find("source"),a){case 0:e.each(o,function(e){0===e?o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-word.mp3",type:"audio/mpeg"}).detach().appendTo(t.arrAudios.eq(a)):o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-word.ogg",type:"audio/ogg"}).detach().appendTo(t.arrAudios.eq(a))}),t.arrAudios.eq(a).load();break;case 1:e.each(o,function(e){0===e?o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-definition.mp3",type:"audio/mpeg"}).detach().appendTo(t.arrAudios.eq(a)):o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-definition.ogg",type:"audio/ogg"}).detach().appendTo(t.arrAudios.eq(a))}),t.arrAudios.eq(a).load();break;case 2:e.each(o,function(e){0===e?o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-origin.mp3",type:"audio/mpeg"}).detach().appendTo(t.arrAudios.eq(a)):o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-origin.ogg",type:"audio/ogg"}).detach().appendTo(t.arrAudios.eq(a))}),t.arrAudios.eq(a).load();break;case 3:e.each(o,function(e){0===e?o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-sentence.mp3",type:"audio/mpeg"}).detach().appendTo(t.arrAudios.eq(a)):o.eq(e).attr({src:"http://www.gannett-cdn.com/experiments/usatoday/2015/05/spelling-bee/media/audio/"+t.arrWords[r]+"-sentence.ogg",type:"audio/ogg"}).detach().appendTo(t.arrAudios.eq(a))}),t.arrAudios.eq(a).load()}}),r){case 0:a="first";break;case 1:a="second";break;case 2:a="third";break;case 3:a="fourth";break;case 4:a="fifth";break;case 5:a="sixth";break;case 6:a="seventh"}t.arrNumber.html(a),t.arrSpellingForm[0].value="",t.arrSpellingContainer.removeClass("hide"),t.arrCorrect.addClass("hide")},t.checkAnswer=function(){var e,r,o=document.location.href;t.arrAudios[t.currentAudio].paused||t.arrAudios[t.currentAudio].pause(),-1!=o.indexOf("#")&&(o=o.substr(0,o.indexOf("#"))),t.arrWords[t.currentWord].toLowerCase()===t.arrSpellingForm[0].value.toLowerCase()?(t.arrCorrect.find("h2").html("Correct!"),t.arrCorrect.removeClass("wrong"),t.setVideos(2),r="I got it right! Think you could spell any of the words from previous National Spelling Bees?",t.numCorrect=t.numCorrect+1):(t.arrCorrect.find("h2").html("Wrong!"),t.arrCorrect.addClass("wrong"),t.setVideos(3),r="This is hard! Think you could spell any of the words from previous National Spelling Bees?"),t.currentWord>=t.totalWords-1&&(t.arrCorrect.find("h2").after("<h3>You got "+t.numCorrect+" out of "+t.totalWords+" correct.</h3>"),r="I got "+t.numCorrect+" out of "+t.totalWords+" correct on the 2015 USA TODAY Spelling Bee. Can you do better?",t.arrNextButton.html("Start Over")),e="Winning Words",e=e.replace(/'/gi,"\\'"),r=r.replace(/'/gi,"\\'"),t.arrCorrect.find(".fbshare").attr({href:"https://www.facebook.com/dialog/feed?display=popup&app_id=215046668549694&link="+encodeURIComponent(o)+"&picture="+o.substr(0,o.lastIndexOf("/")+1)+"img/fb-post.jpg&name="+encodeURIComponent(e)+"&description="+encodeURIComponent(r)+"&redirect_uri=http://"+window.location.hostname+"/pages/interactives/fb-share/"}),t.arrCorrect.find(".tshare").attr({href:"https://twitter.com/intent/tweet?url="+encodeURIComponent("http://usat.ly/1wiCb6B")+"&text="+encodeURIComponent(r)+"&via=usatoday"}),t.arrCorrect.find(".eshare").attr({href:"mailto:?body="+r+" %0d%0d "+encodeURIComponent(o)+"&subject="+e}),t.arrSpellingContainer.addClass("hide"),t.arrCorrect.removeClass("hide")},t.audioPlayClip=function(e){t.arrAudios[t.currentAudio].paused||t.arrAudios[t.currentAudio].pause(),t.arrAudios[e].load(),t.arrAudios[e].play(),t.currentAudio=e},t.setVideos=function(r){e.browser.mobile?r>1&&t.playAudioAnswer(r+2):(t.arrVideos[t.currentVideo].paused||(t.arrVideos[t.currentVideo].pause(),t.arrVideos[t.currentVideo].load()),t.arrVideos[r].play(),t.arrVideos.removeClass("play").eq(r).addClass("play"),t.currentVideo=r)},t.playAudioAnswer=function(e){4==e?t.arrPageContainer.addClass("clap"):t.arrPageContainer.addClass("laugh"),t.arrAudios[e].play()},t.resetAudioAnswer=function(){t.arrPageContainer.removeClass("clap"),t.arrPageContainer.removeClass("laugh")},t.shuffleAnswers=function(e){for(var r,o,t=e.length;0!==t;)o=Math.floor(Math.random()*t),t-=1,r=e[t],e[t]=e[o],e[o]=r;return e},t.windowPopup=function(e,r,o){var t=screen.width/2-r/2,a=screen.height/2-o/2;window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+r+",height="+o+",top="+a+",left="+t)},t}),require.config({shim:{backbone:{deps:["underscore","jquery"],exports:"Backbone"},underscore:{exports:"_"},mapbox:{exports:"L"}}}),require(["app"],function(e){e.init()}),define("main",function(){});